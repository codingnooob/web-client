////////////////////////////////////////////////
////////////////////////////////////////////////
//	ALL HOME SCREEN FUNCTIONS
////////////////////////////////////////////////
////////////////////////////////////////////////



////////////////////////////////////////////////
////////////////////////////////////////////////
//	AUTHENTICATE
////////////////////////////////////////////////
////////////////////////////////////////////////

authenticate(function(user){
    // LOGGED IN    

    var newSignup = sessionStorage.getItem("newsignup");
    if (newSignup) {
        firstTimeHome(user);
    }

}, function(){
    // NOT LOGGED IN
    location.href = "/login";
}, function(error) {
    // ERROR
    if (error.code === "auth/network-request-failed") {
        handleError("[HOME] Error Authenticating", error);
    }
    
    location.href = "/login";
});



////////////////////////////////////////////////
////////////////////////////////////////////////
//	FIRST TIME HOME
////////////////////////////////////////////////
////////////////////////////////////////////////


/**
 * Runs all the errands for a first time user ... i.e. get a freshly minted token that can write etc. 
 * @param {*} user 
 */
function firstTimeHome(user) {
    
}


////////////////////////////////////////////////
////////////////////////////////////////////////
//	HOTKEYS
////////////////////////////////////////////////
////////////////////////////////////////////////

key('h', function () {
    $("#helpButton > a").trigger("click");
    return false;
});

key('a', function () {
    $("#accountButton > a").trigger("click");
    return false;
});

key('d', function () {
    $(".appButton[app='docs'] > a").trigger("click");
    return false;
});

key('p', function () {
    $(".appButton[app='photos'] > a").trigger("click");
    return false;
});